<h3>learn-pipe2 component</h3>


<!-- dùng bootstrap 3 - bs3-container -->
<div class="container">

  <!-- bs3-row col -->
  <div class="row">
    <!-- trong row thì có thể tạo nhiều class với thẻ div, để tạo nhiều table -->

    
    <!-- format-data.pipe.ts: cắt văn bản nếu quá dài, == pipe slice có sẵn -->
    <!-- <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8"> -->
    <div class="col-md-8">

      <!-- bs3-table bordered -->
      <table class="table table-bordered table-hover">
        <thead>
          <tr>
            <th>Tên pipe</th>
            <th>Đầu vào</th>
            <th>Đầu ra</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>FormatData</td>
            <td>{{ content }}</td>
            <td>{{ content | formatData }}</td>
          </tr>
        </tbody>
      </table>

    </div>


    <!-- filter.pipe.ts: lọc mảng theo điều kiện đưa vào -->
    <div class="col-md-8">
      <!-- bs3-table bordered -->
      <table class="table table-bordered table-hover">
        <thead>
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <!--nhập dl vào 3 ô input này, nó sẽ lọc từng cột ra theo dl nhập vào, kiểu như search -->
            <td>
              <input type="text" class="form-control" [(ngModel)]="idFilter">
            </td>
            <td>
              <input type="text" class="form-control" [(ngModel)]="nameFilter">
            </td>
            <td>
              <!-- <input type="text" class="form-control" [(ngModel)]="statusFilter"> -->

              <!-- dạng drop-down(combobox), nếu chọn mục Active thì sẽ trả về cho biến comp string statusFilter='true'-->
              <select class="form-control" [(ngModel)]="statusFilter">
                <option value="all">All</option>
                <option value="true">Active</option>
                <option value="false">Deactive</option>
              </select>
            </td>
          </tr>

          <!-- mỗi vòng for là 1 tr, mỗi tr là 1 hàng.
          Gọi filter pipe và các tham số truyền vào pipe(các biến idFilter...là biến của comp, giá trị lấy từ input, gắn với ngModel ở trên )-->
          <tr *ngFor="let product of products | filter : idFilter : nameFilter : statusFilter">
            <td>{{ product.id }}</td>
            <td>{{ product.name }}</td>
            <td>{{ product.status ? 'Active' : 'Deactive' }}</td>
          </tr>
        </tbody>
      </table>

    </div>


    <!-- sort-number.pipe.ts: sắp xếp mảng arrayNumber -->
    <div class="col-md-8">
        <!-- bs3-table bordered -->
        <table class="table table-bordered table-hover">
          <thead>
            <tr>
              <th>Đầu vào arrayNumber</th>
              <th>Đầu ra sau khi sx</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <!-- sự kiện click sẽ gọi hàm onHandleSort() trong comp và truyền vào 1,-1-->
                <button type="button" class="btn btn-danger" (click)="onHandleSort(1);">Tăng dần</button>
                <button type="button" class="btn btn-primary" (click)="onHandleSort(-1);">Giảm dần</button>
                <p>{{ sortValue }}</p>
                <p>{{ arrNumber }}</p>
              </td>
              <!-- Đưa param sortValue từ comp vào pipe sortNumber để sx. -->
              <td>{{ arrNumber | sortNumber : sortValue}}</td>
            </tr>
          </tbody>
        </table>
  
    </div>


    <!-- capitalize.pipe.ts: định dạng viết hoa cho ký tự đầu, kể cả có dấu Đ,Â,Ô... -->
    <div class="col-md-8">
        <!-- bs3-table bordered -->
        <table class="table table-bordered table-hover">
          <thead>
            <tr>
              <th>Đầu vào chuỗi</th>
              <th>Đầu ra: hoa chữ đầu</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <input type="text" class="form-control" [(ngModel)]="name">
                
              </td>
              <td> {{ name | capitalize }}</td>
            </tr>
          </tbody>
        </table>
  
    </div>


    <!-- even-odd.pipe.ts: pipe lọc phần tử chẵn, lẽ trong arrayNumber -->
    <div class="col-md-8">
      <!-- bs3-table bordered -->
      <table class="table table-bordered table-hover">
        <thead>
          <tr>
            <th>Đầu vào arrayNumber</th>
            <th>Sau khi phân biệt chẵn lẽ</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              <!-- sự kiện click sẽ gọi hàm onHandleEven() trong comp và truyền vào 1,-1-->
              <button type="button" class="btn btn-danger" (click)="onHandleEven(1);">Chẵn</button>
              <button type="button" class="btn btn-primary" (click)="onHandleEven(-1);">Lẽ</button>
              <p>{{ evenValue }}</p>
              <p>{{ arrNumber }}</p>
            </td>
            <!-- Đưa param sortValue từ comp vào pipe sortNumber để sx. -->
            <td>{{ arrNumber | evenOdd : evenValue}}</td>
          </tr>
        </tbody>
      </table>

    </div>


    <!-- sort.pipe.ts: bài tập sắp xếp mảng -->
    <div class="col-md-8">
      <!-- bs3-table bordered -->
      <table class="table table-bordered table-hover">
        <thead>
          <tr>
            <th>ID</th>
            <!--click  vào tiêu đề name thì sx theo name tăng/giảm, gửi param 'name' về; 
            click vào tiêu đề Price thì sx theo Price tăng/giảm, gửi param 'price' về truyền cho sortByBT của comp.
            Truyền các tham số 'name' 'price' vào hàm onSort() trong comp-->
            <th (click)="onSort('name')">Name</th>
            <th (click)="onSort('price')">Price</th>
          </tr>
        </thead>
        <tbody>
          <!-- Vì pipe sort là sx luôn cho cả array, nên ta truyền trong ngFor -->
          <tr *ngFor="let product of products2 | sort: sortByBT : sortValueBT; let i = index">
            <td>{{ i + 1 }}</td>
            <td>{{ product.name }}</td>
            <td>{{ product.price | currency:'USD':'symbol':'1.2-3'}}</td>
          </tr>
        </tbody>
      </table>

    </div>



  </div>

</div>